var e=require("react"),t=require("@studio-freight/tempus"),n=require("nanoid"),r=require("@studio-freight/hamo"),o=require("throttle-debounce"),u="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,i=u,c="undefined"!=typeof window?function(){var t=e.useState(document.readyState),n=t[0],r=t[1];return u(function(){function e(){r(document.readyState)}return r(document.readyState),document.addEventListener("readystatechange",e,!1),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),n}:function(){},f=[],s=function(e){var t=e.type;"string"==typeof e&&(t=e);var n=[];n.push("string"==typeof e?{type:t}:e),f.forEach(function(e){var r=e[0],o=e[1];"string"==typeof r&&r!==t||("function"!=typeof r||r.apply(void 0,n))&&o.apply(void 0,n)})};function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function d(e,t){void 0===t&&(t=0);var n=t+e.offsetTop;return e.offsetParent?d(e.offsetParent,n):n}function v(e,t){void 0===t&&(t=0);var n=t+e.offsetLeft;return e.offsetParent?v(e.offsetParent,n):n}exports.dispatch=s,exports.useDebug=function(){return e.useMemo(function(){return"undefined"!=typeof window&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV)},[])},exports.useDocumentReadyState=c,exports.useEventBus=function(t,n,r){return void 0===r&&(r=[]),e.useEffect(function(){return function(e,t){if(null!=e&&null!=t)return f=[].concat(f,[[e,t]]),function(){f=f.filter(function(e){return e[1]!==t})}}(t,n)},[].concat(r,[n,t])),s},exports.useFrame=function(n,r){void 0===r&&(r=0),e.useEffect(function(){if(n){var e=t.raf.add(n,r);return function(){t.raf.remove(e)}}},[n,r])},exports.useId=function(){return e.useMemo(function(){return n.nanoid()},[])},exports.useInterval=function(t,n){var r=e.useRef();e.useEffect(function(){r.current=t}),e.useEffect(function(){if(null!==n){var e=setInterval(function(){r.current()},n);return function(){return clearInterval(e)}}},[n])},exports.useIsTouchDevice=function(){var t=e.useState(void 0),n=t[0],r=t[1],o=e.useCallback(function(){r("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]);return u(function(){return o(),window.addEventListener("resize",o,!1),function(){window.removeEventListener("resize",o,!1)}},[]),n},exports.useIsVisible=function(t){var n=void 0===t?{}:t,r=n.root,o=void 0===r?null:r,u=n.rootMargin,i=void 0===u?"0px":u,c=n.threshold,f=void 0===c?1:c,s=e.useRef(),a=e.useState(!1),d=a[0],v=a[1],l=e.useCallback(function(e){v(e[0].isIntersecting)},[]);return e.useEffect(function(){var e=new IntersectionObserver(l,{root:o,rootMargin:i,threshold:f});return s.current&&e.observe(s.current),function(){e.disconnect()}},[l]),{setRef:function(e){s.current||(s.current=e)},inView:d}},exports.useLayoutEffect=i,exports.useMediaQuery=function(t){var n=e.useState(void 0),r=n[0],o=n[1],i=e.useCallback(function(e){o(e.matches)},[]);return u(function(){var e=window.matchMedia(t);return i(e),e.addEventListener("change",i),function(){e.removeEventListener("change",i)}}),r},exports.useOutsideClickEvent=function(t,n){var r=e.useCallback(function(e){t.current&&!t.current.contains(e.target)&&n()},[t,n]);e.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r])},exports.useRect=function(t){var n=(void 0===t?{}:t).debounce,u=void 0===n?1e3:n,i=e.useRef(),c=e.useState({top:void 0,left:void 0,width:void 0,height:void 0}),f=c[0],s=c[1],l=function(){i.current&&s(function(e){return a({},e,{top:d(i.current),left:v(i.current)})})};r.useLayoutEffect(function(){var e=o.throttle(u,l),t=new ResizeObserver(e);return t.observe(document.body),function(){t.disconnect(),e.cancel({upcomingOnly:!0})}},[u]);var p=function(e){var t=e[0].contentRect,n=t.width,r=t.height;s(function(e){return a({},e,{width:n,height:r})})},h=e.useRef();return[function(e){var t;e&&e!==i.current&&(null==(t=h.current)||t.disconnect(),h.current=new ResizeObserver(p),h.current.observe(e),i.current=e)},f,function(e,t){return f}]},exports.useSlots=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var r=e.useMemo(function(){return n&&[n].flat()},[n]),o=e.useMemo(function(){return t&&[t].flat()},[t]),u=e.useMemo(function(){return r&&o&&o.map(function(e){var t;return null==(t=r.find(function(t){return t.type===e}))?void 0:t.props.children})},[r,o]);return t[0]?u:u[0]};
//# sourceMappingURL=hamo.cjs.map
