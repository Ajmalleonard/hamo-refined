var e=require("react"),n=require("@studio-freight/tempus"),t=require("nanoid"),r=require("throttle-debounce"),u="undefined"!=typeof window?e.useLayoutEffect:e.useEffect,o="undefined"!=typeof window?function(){var n=e.useState(document.readyState),t=n[0],r=n[1];return u(function(){function e(){r(document.readyState)}return r(document.readyState),document.addEventListener("readystatechange",e,!1),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),t}:function(){},c=[],i=function(e){var n=e.type;"string"==typeof e&&(n=e);var t=[];t.push("string"==typeof e?{type:n}:e),c.forEach(function(e){var r=e[0],u=e[1];"string"==typeof r&&r!==n||("function"!=typeof r||r.apply(void 0,t))&&u.apply(void 0,t)})};function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function f(e,n){void 0===n&&(n=0);var t=n+e.offsetTop;return e.offsetParent?f(e.offsetParent,t):t}function a(e,n){void 0===n&&(n=0);var t=n+e.offsetLeft;return e.offsetParent?a(e.offsetParent,t):t}exports.dispatch=i,exports.useDebug=function(){return e.useMemo(function(){return"undefined"!=typeof window&&(window.location.href.includes("#debug")||"development"===process.env.NODE_ENV)},[])},exports.useDocumentReadyState=o,exports.useEventBus=function(n,t,r){return void 0===r&&(r=[]),e.useEffect(function(){return function(e,n){if(null!=e&&null!=n)return c=[].concat(c,[[e,n]]),function(){c=c.filter(function(e){return e[1]!==n})}}(n,t)},[].concat(r,[t,n])),i},exports.useFrame=function(t,r){void 0===r&&(r=0),e.useEffect(function(){if(t){var e=n.raf.add(t,r);return function(){n.raf.remove(e)}}},[t,r])},exports.useId=function(){return e.useMemo(function(){return t.nanoid()},[])},exports.useInterval=function(n,t){var r=e.useRef();e.useEffect(function(){r.current=n}),e.useEffect(function(){if(null!==t){var e=setInterval(function(){r.current()},t);return function(){return clearInterval(e)}}},[t])},exports.useIsTouchDevice=function(){var n=e.useCallback(function(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)},[]),t=e.useState(n()),r=t[0],o=t[1],c=e.useCallback(function(){o(n())},[n]);return u(function(){return c(),window.addEventListener("resize",c,{passive:!0}),function(){window.removeEventListener("resize",c,{passive:!0})}},[c]),r},exports.useIsVisible=function(n){var t=void 0===n?{}:n,r=t.root,u=void 0===r?null:r,o=t.rootMargin,c=void 0===o?"0px":o,i=t.threshold,s=void 0===i?1:i,f=t.once,a=void 0!==f&&f,d=e.useRef(),v=e.useRef(),l=e.useState(!1),p=l[0],m=l[1],h=e.useCallback(function(e){m(e[0].isIntersecting)},[]);return e.useEffect(function(){return d.current=new IntersectionObserver(h,{root:u,rootMargin:c,threshold:s}),v.current&&d.current.observe(v.current),function(){d.current.disconnect()}},[h]),e.useEffect(function(){a&&p&&d.current.disconnect()},[p]),{setRef:function(e){v.current||(v.current=e)},inView:p}},exports.useLayoutEffect=u,exports.useMediaQuery=function(n){var t=e.useMemo(function(){return"undefined"!=typeof window&&window.matchMedia(n)},[n]),r=e.useState(t.matches),o=r[0],c=r[1],i=e.useCallback(function(e){c(e.matches)},[]);return u(function(){return i(t),t.addEventListener("change",i,{passive:!0}),function(){t.removeEventListener("change",i,{passive:!0})}},[t,i]),o},exports.useOutsideClickEvent=function(n,t){var r=e.useCallback(function(e){n.current&&!n.current.contains(e.target)&&t()},[n,t]);e.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r])},exports.useRect=function(n){var t=void 0===n?{}:n,u=t.lazy,o=void 0!==u&&u,c=t.debounce,i=void 0===c?1e3:c,d=e.useRef(),v=e.useRef(),l=e.useState({}),p=l[0],m=l[1],h=e.useRef(p),w=e.useCallback(function(){if(d.current){var e=f(d.current),n=a(d.current);h.current=s({},h.current,{top:e,left:n}),o||m(h.current)}},[o]);e.useEffect(function(){var e=r.throttle(i,w),n=new ResizeObserver(e);return n.observe(document.body),function(){n.disconnect(),e.cancel({upcomingOnly:!0})}},[i,w]);var y=e.useCallback(function(e){var n=e[0].contentRect;h.current=s({},h.current,{width:n.width,height:n.height}),o||m(h.current)},[o]),E=e.useCallback(function(){return h.current},[]);return e.useEffect(function(){return function(){var e;"development"!==process.env.NODE_ENV&&(null==(e=v.current)||e.disconnect())}},[]),[e.useCallback(function(e){var n;e&&e!==d.current&&(null==(n=v.current)||n.disconnect(),v.current=new ResizeObserver(y),v.current.observe(e),d.current=e)},[w]),o?E:p]},exports.useSlots=function(n,t){void 0===n&&(n=[]),void 0===t&&(t=[]);var r=e.useMemo(function(){return t&&[t].flat()},[t]),u=e.useMemo(function(){return n&&[n].flat()},[n]),o=e.useMemo(function(){return r&&u&&u.map(function(e){var n;return null==(n=r.find(function(n){return n.type===e}))?void 0:n.props.children})},[r,u]);return n[0]?o:o[0]};
//# sourceMappingURL=index.js.map
